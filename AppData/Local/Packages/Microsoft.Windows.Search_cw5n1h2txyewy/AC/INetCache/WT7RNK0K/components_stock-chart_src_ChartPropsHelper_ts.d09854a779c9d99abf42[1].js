(self.webpackChunk_msnews_msnews_experiences=self.webpackChunk_msnews_msnews_experiences||[]).push([["components_stock-chart_src_ChartPropsHelper_ts"],{97266:function(e,t,i){"use strict";i.d(t,{K:function(){return s},M:function(){return r}});var n=i(55067);class r{}function s(){r.updateNumberOfWatchlistItems.unregisterObservers(),r.updateNumberOfRecentViewedItems.unregisterObservers(),r.updateFinanceDataState.unregisterObservers(),r.updateFeeds.unregisterObservers(),r.feedsUpdated.unregisterObservers(),r.updateFeedsFilter.unregisterObservers(),r.updateFeedsActiveFilter.unregisterObservers(),r.updateFeedsSectionQuery.unregisterObservers(),r.updateSentimentSectionQuery.unregisterObservers(),r.updateGradeRatedType.unregisterObservers(),r.updateHighlight.unregisterObservers()}r.updateNumberOfWatchlistItems=new n.C("updateNumberOfWatchlistItems"),r.updateNumberOfRecentViewedItems=new n.C("updateNumberOfRecentViewedItems"),r.updateFinanceDataState=new n.C("updateFinanceDataState"),r.updateFeeds=new n.C("updateFeeds"),r.feedsUpdated=new n.C("feedsUpdated"),r.updateFeedsFilter=new n.C("updateFeedsFilter"),r.updateFeedsActiveFilter=new n.C("updateFeedsActiveFilter"),r.updateFeedsSectionQuery=new n.C("UpdateFeedsSectionQuery"),r.updateSentimentSectionQuery=new n.C("UpdateSentimentSectionQuery"),r.updateGradeRatedType=new n.C("UpdateGradeRatedType"),r.updateHighlight=new n.C("UpdateHighlight")},81101:function(e,t,i){"use strict";i.d(t,{L$:function(){return w},O2:function(){return M},Oo:function(){return f},uE:function(){return g},zF:function(){return y}});var n=i(33940),r=i(44979),s=i(65473),a=i(53076),o=i(63439),c=i(97266),u=i(65392),l=i(43819),h=i(33379),m=i(16614);const d=i.e("libs_finance-service-library_dist_FinanceServices_js").then(i.bind(i,1944));class g extends o.e{constructor(e,t,i,n,r,s,a){super(e,t,i,n,r,s,a)}static get sharedElements(){const e={};return g.sharedExperience.forEach(((t,i)=>{e[i]=null==t?void 0:t.componentInstance})),e}updateState(e){c.M.updateFinanceDataState.getActionSender(this).send(e)}initWatchlist(){return(0,n.mG)(this,void 0,void 0,(function*(){if(this.getCurrentState().watchlist)return[].concat(this.getCurrentState().watchlist);if(!this.watchlistRequest)if(g.watchlistInitialized=!0,(0,h.N)()&&g.preloadWatchlistPromise)this.watchlistRequest=new Promise(((e,t)=>{g.preloadWatchlistPromise.then((t=>{this.getCurrentState().watchlist||(this.updateState({watchlist:t.watchlist,implicitSuggested:t.suggestion}),e())})).catch((e=>t(e)))}));else{const e=200;this.watchlistRequest=new Promise(((t,i)=>(0,n.mG)(this,void 0,void 0,(function*(){const{FinanceServices:n}=yield d;n.getFinanceUserService().getWatchlistWithSuggestion(!1,e).then((e=>{this.getCurrentState().watchlist||(this.updateState({watchlist:e.watchlist,implicitSuggested:e.suggestion}),t())})).catch((e=>i(e)))}))))}return yield this.watchlistRequest,[].concat(this.getCurrentState().watchlist)}))}initWatchlistRecoData(){return(0,n.mG)(this,void 0,void 0,(function*(){this.recoDataRequest||(g.watchlistRecoDataInitialized=!0,(0,h.N)()&&g.preloadWatchlistRecoDataPromise?this.recoDataRequest=new Promise(((e,t)=>(0,n.mG)(this,void 0,void 0,(function*(){g.preloadWatchlistRecoDataPromise.then((t=>{var i,n,r;(0,m.Z)(null===(i=null==t?void 0:t.watchlist)||void 0===i?void 0:i.quoteIdList,this.getCurrentState().watchlist)||this.updateState({watchlist:null===(n=null==t?void 0:t.watchlist)||void 0===n?void 0:n.quoteIdList,implicitSuggested:null===(r=null==t?void 0:t.recommend)||void 0===r?void 0:r.quoteIdList}),e(null!=t?t:{})}))})))):this.recoDataRequest=new Promise(((e,t)=>(0,n.mG)(this,void 0,void 0,(function*(){var t,i,n;const{FinanceServices:r}=yield d,s=r.getFinanceUserService(),a=yield s.getSegmentsRecoitemsData();(0,m.Z)(null===(t=null==a?void 0:a.watchlist)||void 0===t?void 0:t.quoteIdList,this.getCurrentState().watchlist)||this.updateState({watchlist:null===(i=null==a?void 0:a.watchlist)||void 0===i?void 0:i.quoteIdList,implicitSuggested:null===(n=null==a?void 0:a.recommend)||void 0===n?void 0:n.quoteIdList}),e(null!=a?a:{})})))));const e=yield this.recoDataRequest;return(null==e?void 0:e.watchlist)&&(e.watchlist.quoteIdList=[].concat(this.getCurrentState().watchlist)),e}))}initFollowedLists(){return(0,n.mG)(this,void 0,void 0,(function*(){return this.followedListsRequest||(this.followedListsRequest=new Promise(((e,t)=>(0,n.mG)(this,void 0,void 0,(function*(){const{FinanceServices:i}=yield d;i.getFinanceUserService().getFollowedLists().then((t=>{this.updateState({followedLists:t}),e()})).catch((e=>t(e)))}))))),yield this.followedListsRequest,this.getCurrentState().followedLists}))}}g.preloadWatchlistPromise=null,g.preloadWatchlistRecoDataPromise=null,g.watchlistInitialized=!1,g.watchlistRecoDataInitialized=!1,g.sharedExperience=new Map;const f=()=>(w(),l._.getInstance().rootReducer.connector(a.z.FinanceData));let p=!1;const v=new Map;let T=0;const w=()=>{if(!l._.getInstance().rootReducer.connector(a.z.FinanceData)){const e=l._.getInstance();new g(a.z.FinanceData,"",e.rootReducer,new u.e,e.store,{},new r.fH)}p||(c.M.updateFinanceDataState.registerObserver((e=>{v.forEach((e=>e(f().getCurrentState())))})),p=!0)};function y(){const[e,t]=(0,s.useState)(f().getCurrentState());return(0,s.useEffect)((()=>{const e=(T++,T);return t(f().getCurrentState()),v.set(e,t),()=>v.delete(e)}),[]),e}function M(){p=!1}},65392:function(e,t,i){"use strict";i.d(t,{e:function(){return s}});var n=i(30856),r=i(97266);class s{constructor(){this.INITIAL_STATE={numberOfWatchlistItems:null,numberOfRecentViewedItems:null,watchlist:null}}reduce(e,t){if(!e)return this.INITIAL_STATE;if(!t)return e;let i=!1,s=null;return i=i||n.G.handleAction(t,r.M.updateFinanceDataState,(t=>{s=Object.assign(Object.assign({},e),t)})),s||e}}},68102:function(e,t,i){"use strict";var n,r;i.d(t,{H4:function(){return s},oX:function(){return n},uV:function(){return r}}),function(e){e.OneHourFiveMinute="1H5M",e.OneDayOneMinute="1D1M",e.OneDayFiveMinute="1D5M",e.TwentyFourHoursFiveMinute="24H5M",e.OneWeekFifteenMinutes="1W15M",e.FiveDays="5D",e.OneMonth="1M",e.OneMonthOneHour="1M1H",e.ThreeMonth="3M",e.OneYear="1Y",e.ThreeYear="3Y",e.FiveYear="5Y",e.All="All",e.TenYearsDailyPart1="10YH1",e.TenYearsDailyPart2="10YH2",e.FifteenDay="15D",e.YesterDay="Yesterday"}(n||(n={}));class s{}!function(e){e.OneHour="1H",e.TwelveHours="12H",e.TwentyFourHours="24H",e.OneDay="1D",e.FiveDays="5D",e.OneWeek="1W",e.OneMonth="1M",e.OneMonthOneHour="1M1H",e.ThreeMonth="3M",e.Ytd="Ytd",e.OneYear="1Y",e.ThreeYears="3Y",e.FiveYears="5Y",e.Max="Max"}(r||(r={}))},69044:function(e,t,i){"use strict";var n;i.d(t,{Z:function(){return n}}),function(e){e.AfterHours="afterHours",e.PreHours="preHours",e.Regular="regular",e.Closed="closed",e.Extended="extended",e.Break="break",e.Unknown="unknown"}(n||(n={}))},59350:function(e,t,i){"use strict";i.d(t,{C1:function(){return S},D:function(){return c},NV:function(){return O},PX:function(){return C},T3:function(){return b},T4:function(){return D},Yz:function(){return _},k6:function(){return F},mN:function(){return x},qY:function(){return h},tq:function(){return u},uf:function(){return y}});var n=i(23401),r=i(13400),s=i(81101);const a=["1000","10000","100000","1000000","10000000","100000000","1000000000","10000000000","100000000000","1000000000000","10000000000000","100000000000000"],o={pattern_1000_other:"0K",pattern_10000_other:"00K",pattern_100000_other:"000K",pattern_1000000_other:"0M",pattern_10000000_other:"00M",pattern_100000000_other:"000M",pattern_1000000000_other:"0B",pattern_10000000000_other:"00B",pattern_100000000000_other:"000B",pattern_1000000000000_other:"0T",pattern_10000000000000_other:"00T",pattern_100000000000000_other:"000T"};function c(e,t=2){var i,n,r;if("number"!=typeof e||Number.isNaN(e))return"-";let c=Math.floor(Math.log(e>0?e:0-e)*Math.LOG10E);const u=w();if(c<3)return Intl.NumberFormat(u,{minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:!1}).format(e);const l=null!==(r=null===(n=null===(i=(0,s.Oo)())||void 0===i?void 0:i.config)||void 0===n?void 0:n.compactDigitsFormat)&&void 0!==r?r:o;let h=String(Math.pow(10,c));-1==a.indexOf(h)&&(h=a[a.length-1],c=p(h,"0"));const d=l[`pattern_${h}_${g(e/Math.pow(10,c))}`]||l[`${h}_${m.other}`]||"0",f="0"==d?0:p(d,"0")-c-1,v=e*Math.pow(10,f),T=Intl.NumberFormat(u,{minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:!1}).format(v);return d.replace(/(0+)/,T)}function u(e,t=2){let i=Math.floor(Math.log(e>0?e:0-e)*Math.LOG10E);const r=n.I.ENUS;if(i<3)return Intl.NumberFormat(r,{minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:!1}).format(e);const s=o;let c=String(Math.pow(10,i));-1==a.indexOf(c)&&(c=a[a.length-1],i=p(c,"0"));const u=s[`pattern_${c}_${g(e/Math.pow(10,i))}`]||s[`${c}_${m.other}`]||"0",l="0"==u?0:p(u,"0")-i-1,h=e*Math.pow(10,l),d=Intl.NumberFormat(r,{minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:!1}).format(h);return u.replace(/(0+)/,d)}const l={numberDecimalSeparator:".",numberGroupSeparator:","};function h(e){var t,i,n;const{numberDecimalSeparator:r,numberGroupSeparator:a}=null!==(n=null===(i=null===(t=(0,s.Oo)())||void 0===t?void 0:t.config)||void 0===i?void 0:i.localDigitsFormat)&&void 0!==n?n:l,o="TEMP";return e=(e=(e=(e=e.replace(new RegExp("\\s","g"),"")).replace(new RegExp("\\"+r,"g"),o)).replace(new RegExp("\\"+a,"g"),"")).replace(new RegExp("\\TEMP","g"),".")}var m;let d;function g(e){const t=Intl,i=r.jG.CurrentMarket||n.I.ENUS;return d||(d=t.Plurals&&t.Plurals.prototype&&t.Plurals.prototype.select?new t.Plurals(i):new f(i)),d.select(e)}!function(e){e.zero="zero",e.one="one",e.two="two",e.few="few",e.other="other"}(m||(m={}));class f{constructor(e){this.market=e}select(e){switch(this.market.substring(0,2)){case"ar":return 0==e?m.zero:1==e?m.one:2==e?m.two:-1!=[3,4,5,6,7,8,9,10].indexOf(e)?m.few:m.other;case"bn":case"fa":case"mk":return-1!=[0,1].indexOf(e)?m.few:m.other;default:return m.other}}}function p(e,t){let i=0;for(let n=0;n<e.length;n++){t===e[n]&&i++}return i}let v="",T="";function w(){var e;if(T===r.jG.CurrentMarket&&v)return v;let t=null!==(e=r.jG.CurrentMarket)&&void 0!==e?e:n.I.ENUS;return["ar","bn","fa","mr","ne"].some((e=>t.startsWith(e)))&&(t=n.I.ENUS),"es-pe"===t&&(t="es"),v=t,T=r.jG.CurrentMarket,t}function y(e,t,i,n){if("number"!=typeof e||Number.isNaN(e))return"-";const r=w();let s={};if("object"==typeof t)s=t;else{if("number"==typeof t)s.minimumFractionDigits=t;else{if(!n&&Math.abs(e)<2)return(e.toFixed(20).match(/^-?\d*\.?0*\d{0,4}/)[0]/1).toLocaleString(r,{useGrouping:!1,maximumSignificantDigits:4});s.minimumFractionDigits=2}s.maximumFractionDigits="number"==typeof i?i:s.minimumFractionDigits}return new Intl.NumberFormat(r,s).format(e)}const M=e=>(t,i,n)=>{if("number"!=typeof t||Number.isNaN(t))return"-";let r=e(t,i,n);return t>0&&(r="+"+r),r},D=y,O=M(D),b=(e,t,i)=>{if("number"!=typeof e||Number.isNaN(e))return"-";return y(e,t,i,!0)+"%"},S=M(b),x=()=>Intl.NumberFormat(w().toString()).format(11111).replace(/1/g,""),_=()=>Intl.NumberFormat(w().toString()).format(1.1).replace(/1/g,""),F=(e,t=2)=>e.toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",");function C(e,t){if(e&&t&&0!==t)return e/t*100}},54134:function(e,t,i){"use strict";i.d(t,{QA:function(){return p},RH:function(){return T},YQ:function(){return w},Zc:function(){return o},bV:function(){return g},fS:function(){return a},xk:function(){return f},zh:function(){return v}});var n=i(13400),r=i(87322),s=i.n(r);function a(e){if(e)return new Date(o(e))}function o(e){if(e)return e.toLowerCase().endsWith("z")||(e+="Z"),Date.parse(e)}const c=36e5,u=864e5,l=6048e5,h=2592e6,m=7776e6,d=31536e6;function g(e,t="short",i=!0){if(!e)return null;e.toLowerCase().endsWith("z")||(e+="Z");const r=new Date(e);if(Number.isNaN(r.getMilliseconds()))return null;const s=Intl;if(void 0===s.RelativeTimeFormat){if(i){const e={hour:"numeric",minute:"numeric",day:"numeric",month:"short"};return new Intl.DateTimeFormat(n.jG.CurrentMarket||"en",e).format(r)}return null}const a=new s.RelativeTimeFormat(n.jG.CurrentMarket||"en",{style:t});let o="";const g=r.getTime()-Date.now(),f=Math.abs(g);let p=g;return f<6e4?(o="second",p=g/1e3):f<c?(o="minute",p=g/6e4):f<u?(o="hour",p=g/c):f<l?(o="day",p=g/u):f<h?(o="week",p=g/l):f<m?(o="month",p=g/h):f<d?(o="quarter",p=g/m):(o="year",p=g/d),p=parseInt(p.toString()),a.format(p,o)}function f(e){const t=(new Date).getTimezoneOffset();return s()(e).add(-1*t,"m").toDate()}function p(){try{const e={timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeZoneName:"short"};return new Intl.DateTimeFormat("en-us",e).format(new Date).split(" ")[1]}catch(e){return console.error(e),""}}function v(e,t){if(!t||"UTC"===t||"Etc/UTC"===t||t.startsWith("UTC"))return e;"edt"===t.toLowerCase()&&(t="EST5EDT");try{return t?new Date(e.toLocaleString("en-us",{timeZone:t})):e}catch(t){return e}}function T(e){if(!isNaN(Date.parse(e))){return new Date(e).toLocaleString("default",{month:"short",day:"numeric"})}return""}function w(e){if(!isNaN(Date.parse(e))){return new Date(e).toLocaleString("default",{month:"short",year:"numeric"})}return""}},68085:function(e,t,i){"use strict";i.d(t,{WU:function(){return h},jH:function(){return m}});var n=i(22266);var r=i(78049);var s,a=i(10815);function o(e,t){var i=(0,a.Z)(e,t);if(!i)return e+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}var c={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return o(100*e,t)},r:o,s:function(e,t){var i=(0,a.Z)(e,t);if(!i)return e+"";var n=i[0],r=i[1],o=r-(s=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,c=n.length;return o===c?n:o>c?n+new Array(o-c+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+(0,a.Z)(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function u(e){return e}var l,h,m,d=Array.prototype.map,g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f(e){var t,i,a=void 0===e.grouping||void 0===e.thousands?u:(t=d.call(e.grouping,Number),i=e.thousands+"",function(e,n){for(var r=e.length,s=[],a=0,o=t[0],c=0;r>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(e.substring(r-=o,r+o)),!((c+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(i)}),o=void 0===e.currency?"":e.currency[0]+"",l=void 0===e.currency?"":e.currency[1]+"",h=void 0===e.decimal?".":e.decimal+"",m=void 0===e.numerals?u:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(d.call(e.numerals,String)),f=void 0===e.percent?"%":e.percent+"",p=void 0===e.minus?"-":e.minus+"",v=void 0===e.nan?"NaN":e.nan+"";function T(e){var t=(e=(0,r.Z)(e)).fill,i=e.align,n=e.sign,u=e.symbol,d=e.zero,T=e.width,w=e.comma,y=e.precision,M=e.trim,D=e.type;"n"===D?(w=!0,D="g"):c[D]||(void 0===y&&(y=12),M=!0,D="g"),(d||"0"===t&&"="===i)&&(d=!0,t="0",i="=");var O="$"===u?o:"#"===u&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",b="$"===u?l:/[%p]/.test(D)?f:"",S=c[D],x=/[defgprs%]/.test(D);function _(e){var r,o,c,u=O,l=b;if("c"===D)l=S(e)+l,e="";else{var f=(e=+e)<0||1/e<0;if(e=isNaN(e)?v:S(Math.abs(e),y),M&&(e=function(e){e:for(var t,i=e.length,n=1,r=-1;n<i;++n)switch(e[n]){case".":r=t=n;break;case"0":0===r&&(r=n),t=n;break;default:if(!+e[n])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),f&&0==+e&&"+"!==n&&(f=!1),u=(f?"("===n?n:p:"-"===n||"("===n?"":n)+u,l=("s"===D?g[8+s/3]:"")+l+(f&&"("===n?")":""),x)for(r=-1,o=e.length;++r<o;)if(48>(c=e.charCodeAt(r))||c>57){l=(46===c?h+e.slice(r+1):e.slice(r))+l,e=e.slice(0,r);break}}w&&!d&&(e=a(e,1/0));var _=u.length+e.length+l.length,F=_<T?new Array(T-_+1).join(t):"";switch(w&&d&&(e=a(F+e,F.length?T-l.length:1/0),F=""),i){case"<":e=u+e+l+F;break;case"=":e=u+F+e+l;break;case"^":e=F.slice(0,_=F.length>>1)+u+e+l+F.slice(_);break;default:e=F+u+e+l}return m(e)}return y=void 0===y?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return e+""},_}return{format:T,formatPrefix:function(e,t){var i=T(((e=(0,r.Z)(e)).type="f",e)),s=3*Math.max(-8,Math.min(8,Math.floor((0,n.Z)(t)/3))),a=Math.pow(10,-s),o=g[8+s/3];return function(e){return i(a*e)+o}}}}l=f({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),h=l.format,m=l.formatPrefix},22266:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=i(10815);function r(e){return(e=(0,n.Z)(Math.abs(e)))?e[1]:NaN}},10815:function(e,t,i){"use strict";function n(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}i.d(t,{Z:function(){return n}})},78049:function(e,t,i){"use strict";i.d(t,{Z:function(){return r}});var n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r(e){if(!(t=n.exec(e)))throw new Error("invalid format: "+e);var t;return new s({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function s(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}r.prototype=s.prototype,s.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},87322:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",i="minute",n="hour",r="day",s="week",a="month",o="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(e,t,i){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(i)+e},g={s:d,z:function(e){var t=-e.utcOffset(),i=Math.abs(t),n=Math.floor(i/60),r=i%60;return(t<=0?"+":"-")+d(n,2,"0")+":"+d(r,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var n=12*(i.year()-t.year())+(i.month()-t.month()),r=t.clone().add(n,a),s=i-r<0,o=t.clone().add(n+(s?-1:1),a);return+(-(n+(i-r)/(s?r-o:o-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return{M:a,y:c,w:s,d:r,D:u,h:n,m:i,s:t,ms:e,Q:o}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f="en",p={};p[f]=m;var v=function(e){return e instanceof M},T=function(e,t,i){var n;if(!e)return f;if("string"==typeof e)p[e]&&(n=e),t&&(p[e]=t,n=e);else{var r=e.name;p[r]=e,n=r}return!i&&n&&(f=n),n||!i&&f},w=function(e,t){if(v(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new M(i)},y=g;y.l=T,y.i=v,y.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var M=function(){function m(e){this.$L=T(e.locale,null,!0),this.parse(e)}var d=m.prototype;return d.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(l);if(n){var r=n[2]-1||0,s=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},d.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},d.$utils=function(){return y},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(e,t){var i=w(e);return this.startOf(t)<=i&&i<=this.endOf(t)},d.isAfter=function(e,t){return w(e)<this.startOf(t)},d.isBefore=function(e,t){return this.endOf(t)<w(e)},d.$g=function(e,t,i){return y.u(e)?this[t]:this.set(i,e)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(e,o){var l=this,h=!!y.u(o)||o,m=y.p(e),d=function(e,t){var i=y.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return h?i:i.endOf(r)},g=function(e,t){return y.w(l.toDate()[e].apply(l.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},f=this.$W,p=this.$M,v=this.$D,T="set"+(this.$u?"UTC":"");switch(m){case c:return h?d(1,0):d(31,11);case a:return h?d(1,p):d(0,p+1);case s:var w=this.$locale().weekStart||0,M=(f<w?f+7:f)-w;return d(h?v-M:v+(6-M),p);case r:case u:return g(T+"Hours",0);case n:return g(T+"Minutes",1);case i:return g(T+"Seconds",2);case t:return g(T+"Milliseconds",3);default:return this.clone()}},d.endOf=function(e){return this.startOf(e,!1)},d.$set=function(s,o){var l,h=y.p(s),m="set"+(this.$u?"UTC":""),d=(l={},l[r]=m+"Date",l[u]=m+"Date",l[a]=m+"Month",l[c]=m+"FullYear",l[n]=m+"Hours",l[i]=m+"Minutes",l[t]=m+"Seconds",l[e]=m+"Milliseconds",l)[h],g=h===r?this.$D+(o-this.$W):o;if(h===a||h===c){var f=this.clone().set(u,1);f.$d[d](g),f.init(),this.$d=f.set(u,Math.min(this.$D,f.daysInMonth())).$d}else d&&this.$d[d](g);return this.init(),this},d.set=function(e,t){return this.clone().$set(e,t)},d.get=function(e){return this[y.p(e)]()},d.add=function(e,o){var u,l=this;e=Number(e);var h=y.p(o),m=function(t){var i=w(l);return y.w(i.date(i.date()+Math.round(t*e)),l)};if(h===a)return this.set(a,this.$M+e);if(h===c)return this.set(c,this.$y+e);if(h===r)return m(1);if(h===s)return m(7);var d=(u={},u[i]=6e4,u[n]=36e5,u[t]=1e3,u)[h]||1,g=this.$d.getTime()+e*d;return y.w(g,this)},d.subtract=function(e,t){return this.add(-1*e,t)},d.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var i=e||"YYYY-MM-DDTHH:mm:ssZ",n=y.z(this),r=this.$locale(),s=this.$H,a=this.$m,o=this.$M,c=r.weekdays,u=r.months,l=function(e,n,r,s){return e&&(e[n]||e(t,i))||r[n].substr(0,s)},m=function(e){return y.s(s%12||12,e,"0")},d=r.meridiem||function(e,t,i){var n=e<12?"AM":"PM";return i?n.toLowerCase():n},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:y.s(o+1,2,"0"),MMM:l(r.monthsShort,o,u,3),MMMM:l(u,o),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,c,2),ddd:l(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(s),HH:y.s(s,2,"0"),h:m(1),hh:m(2),a:d(s,a,!0),A:d(s,a,!1),m:String(a),mm:y.s(a,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:n};return i.replace(h,(function(e,t){return t||g[e]||n.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(e,u,l){var h,m=y.p(u),d=w(e),g=6e4*(d.utcOffset()-this.utcOffset()),f=this-d,p=y.m(this,d);return p=(h={},h[c]=p/12,h[a]=p,h[o]=p/3,h[s]=(f-g)/6048e5,h[r]=(f-g)/864e5,h[n]=f/36e5,h[i]=f/6e4,h[t]=f/1e3,h)[m]||f,l?p:y.a(p)},d.daysInMonth=function(){return this.endOf(a).$D},d.$locale=function(){return p[this.$L]},d.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),n=T(e,t,!0);return n&&(i.$L=n),i},d.clone=function(){return y.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},m}(),D=M.prototype;return w.prototype=D,[["$ms",e],["$s",t],["$m",i],["$H",n],["$W",r],["$M",a],["$y",c],["$D",u]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),w.extend=function(e,t){return e.$i||(e(t,M,w),e.$i=!0),w},w.locale=T,w.isDayjs=v,w.unix=function(e){return w(1e3*e)},w.en=p[f],w.Ls=p,w.p={},w}()},41387:function(e,t,i){"use strict";i.r(t),i.d(t,{ChartPropsHelper:function(){return Z}});var n,r=i(33940),s=i(68102);!function(e){e.OneHour="1H",e.TwelveHours="12H",e.TwentyFourHours="24H",e.OneDay="1D",e.FiveDays="5D",e.OneWeek="1W",e.OneMonth="1M",e.OneMonthOneHour="1M1H",e.ThreeMonth="3M",e.Ytd="Ytd",e.OneYear="1Y",e.ThreeYears="3Y",e.FiveYears="5Y",e.Max="Max"}(n||(n={}));new Map([["1H",n.OneHour],["12H",n.TwelveHours],["24H",n.TwentyFourHours],["1D",n.OneDay],["5D",n.FiveDays],["1W",n.OneWeek],["1M",n.OneMonth],["1M1H",n.OneMonthOneHour],["3M",n.ThreeMonth],["Ytd",n.Ytd],["1Y",n.OneYear],["3Y",n.ThreeYears],["5Y",n.FiveYears],["Max",n.Max]]);var a;function o(e,t){e&&(e.events||(e.events=[]),e.events.push(t))}!function(e){e[e.Area=0]="Area",e[e.BaseLine=1]="BaseLine",e[e.Line=2]="Line",e[e.CandleStick=3]="CandleStick"}(a||(a={}));var c=i(54134),u=(0,i(9604).Z)("floor");class l{static calculateTimeAxisTickPoint(e,t,i,n,r){const s=(i.getTime()-t.getTime())/6e4/n,a=Math.floor(s/r),o=[];for(let e=0;e<=n;e++)o.push(new Date(i.getTime()-e*a*r*60*1e3));const c=[];for(let t=o.length-1;t>=0;t--)for(let i=e.length-1;i>=0;i--)if(o[t].getTime()>=e[i].date.getTime()){c.push(i);break}return c}static generateTimeTick(e,t,i){const r=P.getMarket();if([n.OneDay,n.TwelveHours,n.TwentyFourHours].includes(t)){const t=l.calculateTimeAxisTickPoint(e.items,e.startTime,e.endTime,3,30),n=e.items.filter(((e,i)=>t.includes(i))),s={hour:"numeric",minute:"2-digit"},a=n.map(((e,i)=>{const n=e.date.toLocaleString(r,s);return{index:t[i],text:n}}));return 4===i?a:3===i?[a[0],a[1],a[3]].filter((e=>null!=e)):[a[0],a[2]].filter((e=>null!=e))}{const s=u(e.items.length/4),a=e.items.length-1;let o;o=4===i?[a-3*s,a-2*s,a-s,a]:3===i?[a-3*s,a-2*s,a-s]:[a-2*s,a];const c=e.items.filter(((e,t)=>o.includes(t))),l=c.map((e=>e.date.getDate()+30*e.date.getMonth()+365*e.date.getFullYear())),h=c.map((e=>e.date.getMonth())),m=c.map((e=>e.date.getFullYear())),d=new Set(l).size!=l.length,g=new Set(h).size!=h.length,f=new Set(m).size!=m.length;let p;return p=t===n.FiveDays?d?{weekday:"short",hour:"numeric",minute:"numeric"}:{weekday:"short"}:t===n.OneMonth||t===n.ThreeMonth?d?{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}:{month:"short",day:"numeric"}:t===n.OneYear?g?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"short"}:t===n.FiveYears||t===n.ThreeYears?g&&f?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"short"}:d?{weekday:"short",hour:"numeric",minute:"numeric"}:g&&f?{month:"short",day:"numeric"}:f?{year:"numeric",month:"short"}:{year:"numeric"},c.map(((e,t)=>({index:o[t],text:e.date.toLocaleDateString(r,p)})))}}}var h=i(87322),m=i.n(h),d=i(84853),g=i(84708),f=i(68085);const p=e=>null!=e;Array.isArray;class v{static formatPrecentageValue(e,t){return(e-v.scaler>0?"+":"")+(0,f.WU)(t)((e-v.scaler)/(v.scaler/100))+"%"}static convertToReturnRate(e){const t=e.items[0];return e.items.forEach((e=>{e.normalizedValue=100*e.close/t.close-100})),e}static toChartTimeSeriesData(e){const t=[],i=e.series.items[0],n=v.getLocalToExchangeOffset(e.exchange);e.series.items.forEach((r=>{const s=Object.assign(Object.assign({},r),{taIndicators:{},normalizedValue:e.isAggregationChart?r.close:100*r.close/i.close-100,connectChart:[],date:v.convertTimeZone(r.date,n)});t.push(s)}));return Object.assign(Object.assign({},e.series),{id:e.instrumentId,items:t,moreItems:v.getMoreItems(e),startTime:v.convertTimeZone(e.series.startTime,n),endTime:v.convertTimeZone(e.series.endTime,n)})}static getMoreItems(e){var t;return e.chartType===s.oX.OneDayOneMinute||e.chartType===s.oX.OneMonth||e.chartType===s.oX.OneMonthOneHour||e.chartType===s.oX.OneDayFiveMinute||e.chartType===s.oX.FiveDays?e.moreItems:e.chartType===s.oX.OneYear||e.chartType===s.oX.ThreeMonth||e.chartType===s.oX.ThreeYear||e.chartType===s.oX.FiveYear?v.mergeItems(e.moreItems,null===(t=null==e?void 0:e.series)||void 0===t?void 0:t.items,500):void 0}static mergeItems(e,t,i){if(!e||!t)return null;if((null==t?void 0:t.length)>=i)return t.slice(-1*i);const n=t[0];let r=-1;for(let t=e.length-1;t>=0;t--)if(e[t].date<=n.date){r=t;break}if(-1!==r)return[...e.slice(0,r),...t];console.error("MergeItems has errors")}static spliteDays(e){const t=[];let i=e.items[0].date,n=[e.items[0]];for(let r=1;r<e.items.length;r++)e.items[r].date.getDate()!=i.getDate()||r==e.items.length-1?(t.push(n),n=[e.items[r]]):n.push(e.items[r]),i=e.items[r].date;return t}static onSameDay(e,t){return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()}static mapToOneTimeAxis2(e,t,i,n=!1){let r=e[0].startTime,s=e[0].endTime;e.forEach(((e,t)=>{e.startTime<r&&(r=e.startTime),e.endTime>s&&(s=e.endTime)}));let a=r;const o=[],c=[];for(e.forEach((e=>{c.push(0)}));a<=s||this.onSameDay(a,s);){let r=null;o.length>0&&(r=o[o.length-1]);const s=m()(a).add(t,i).toDate(),u={comparisons:{},date:a};let l=!0;e.forEach(((e,t)=>{if(c[t]<e.items.length){const i=e.items[c[t]],n=i.date;this.onSameDay(a,n)&&(l=!1,u.comparisons[e.id]={normalizedValue:i.normalizedValue,price:i.close},c[t]=c[t]+1)}})),n?o.push(u):l||o.push(u),a=s}return o}static mapToOneTimeAxis(e){const t=[];return e.forEach(((i,n)=>{let r=i.items;0!=n&&(r=this.mapTwoSeriesToOneTimeAxis(e[0],i));const s=Object.assign(Object.assign({},i),{items:r});t.push(s)})),t}static mapTwoSeriesToOneTimeAxis(e,t){const i=this.spliteDays(e).reverse(),n=this.spliteDays(t).reverse();let r=[];for(let e=0;e<i.length&&e<n.length;e++)r=i[e].length==n[e].length?r.concat(n[e].reverse()):i[e].length>n[e].length?0==e?r.concat(n[e].reverse()):r.concat(v.extendDataItemsArray(n[e],i.length).reverse()):r.concat(v.shortenDataItemsArray(n[e],i[e].length).reverse());return r.reverse()}static extendDataItemsArray(e,t,i={backFilled:!0}){const n=t-e.length;for(let t=0;t<n;t++)e.push(i);return e}static shortenDataItemsArray(e,t){const i=e.length;if(i<=t||void 0===t||0===t)return e;const n=i/t,r=[];for(let s=0;s<i;s+=n){if(r.length+1==t){r.push(e[e.length-1]);break}r.push(e[(0,d.Z)(s)])}return r}static mergeChartSeries2(e,t){let i=0,r=e[0].priceLow;const s=[],a=(e[0].items.length,[]);e.forEach((e=>{i=Math.max(e.priceHigh,i),r=Math.min(r,e.priceLow),s.push(e.id),a.push(e.color)}));let o=1,c="day";t===n.OneMonthOneHour&&(o=60,c="minute");const u=this.mapToOneTimeAxis2(e,o,c),l=[];s.forEach((e=>{u.forEach((t=>{var i,n;const r=null===(n=null===(i=null==t?void 0:t.comparisons)||void 0===i?void 0:i[e])||void 0===n?void 0:n.normalizedValue;p(r)&&!Number.isNaN(r)&&l.push(r)}))}));const h=Math.max(...l),m=Math.min(...l);return Object.assign(Object.assign({},e[0]),{items:u,comparisonHigh:h,comparisonLow:m,comparisonIds:s,colors:a})}static mergeChartSeries(e,t=!0,i=!1){let n=0,r=e[0].priceLow;const s=[],a=e[0].items.length,o=[];let c;e.forEach((e=>{n=Math.max(e.priceHigh,n),r=Math.min(r,e.priceLow),s.push(e.id),o.push(e.color)})),i&&(e=this.mapToOneTimeAxis(e)),c=t?e.map((e=>({items:e.items.reverse(),id:e.id}))):e.map((e=>({items:e.items,id:e.id})));let u=[];for(let e=0;e<a;e++){let t;c.forEach(((i,n)=>{0==n&&(t=i.items[e]),e<i.items.length&&(t.comparisons||(t.comparisons={}),t.comparisons[i.id]={normalizedValue:i.items[e].normalizedValue,price:i.items[e].close})})),u.push(t)}t&&(u=u.reverse());const l=[];s.forEach((e=>{u.forEach((t=>{var i,n;const r=null===(n=null===(i=null==t?void 0:t.comparisons)||void 0===i?void 0:i[e])||void 0===n?void 0:n.normalizedValue;p(r)&&!Number.isNaN(r)&&l.push(r)}))}));const h=Math.max(...l),m=Math.min(...l);return Object.assign(Object.assign({},e[0]),{items:u,comparisonHigh:h,comparisonLow:m,comparisonIds:s,colors:o})}static trimToYTDSeries(e){const t=new Date,i=e.items.filter((e=>e.date&&e.date.getUTCFullYear()===t.getUTCFullYear())),n=i[0]&&i[0].date,r=i.map((e=>e.high)),s=Math.max(...r),a=i.map((e=>e.low)),o=Math.max(...a);return Object.assign(Object.assign({},e),{items:i,priceHigh:s,priceLow:o,startTime:n})}static transformToLiveSeries(e,t=1,i=!0){const n=e.startTime,r=e.endTime;if(null==n||null==r)console.warn("Error: start time or end time doesn't exist.");else if(r.getTime()<=n.getTime())console.warn("Error: end time should be later than start time");else if(!e.items||e.items.length<1)console.warn("Error: series items are not available.");else if(e.items[0].date.getTime()<n.getTime())console.warn("Error: series first data's time stamp is earlier than start time.");else{if(!(e.items[e.items.length-1].date.getTime()>r.getTime())){e.items[0].date.getTime()!=n.getTime()&&(Y.warn("Warning: series first data point's timestamp is not equals to start time."),Y.warn("first data timestamp: "+e.items[0].date),Y.warn("startTime timestamp: "+n),Y.warn("data length: "+e.items.length));let r=e.items;i&&(r=this.fillMissingDataPoint(r,e.startTime,t)),r=this.backFillDataPoint(r,e.endTime,t);return Object.assign(Object.assign({},e),{items:r})}console.warn("Error: series last data's time stamp is later than end time.")}}static fillMissingDataPoint(e,t,i=1){const n={open:void 0,close:void 0,high:void 0,low:void 0,volume:void 0};const r=[];if(t.getTime()<e[0].date.getTime()){e=[Object.assign(Object.assign({},e[0]),{date:new Date(t.getTime())})].concat(e)}r.push(e[0]);for(let t=1;t<e.length;t++){let s=(e[t].date.getTime()-e[t-1].date.getTime())/6e4,a=n;for(e[t-1]&&(a={open:e[t-1].open,close:e[t-1].close,high:e[t-1].high,low:e[t-1].low,normalizedValue:e[t-1].normalizedValue,volume:void 0});s>i;){const e=Object.assign({date:m()(r[r.length-1].date).add(i,"m").toDate()},a);r.push(e),s-=i}r.push(e[t])}return r}static backFillDataPoint(e,t,i=1){const n={open:void 0,close:void 0,high:void 0,low:void 0,volume:void 0,backFilled:!0},r=(t.getTime()-e[e.length-1].date.getTime())/6e4,s=[];for(let t=0;t<r;t+=i){const r=Object.assign({date:m()(e[e.length-1].date).add(t+i,"m").toDate()},n);s.push(r)}let a=e;return s.length>0&&(a=a.concat(s)),Y.log("back filled "+s.length+" data points"),Y.log("total data points count is "+a.length),a}static calucateChartInterval(e,t){const i=e/t;return i>=.57?(0,d.Z)(3*i):1}static compressDataSeries(e,t,i,n){const r=l.generateTimeTick(e,t,i),s=v.calucateChartInterval(e.items.length,n);if(1===s)return Object.assign(Object.assign({},e),{xTicks:r,interval:1});const{newItems:a,newTicks:o}=this.compressDataPointArray(e.items,s,r);return Object.assign(Object.assign({},e),{items:a,xTicks:o,interval:s})}static markLastValidPrice(e){P.getLastValidPrice(null==e?void 0:e.items,!0)}static compressDataPointArray(e,t,i){const n=[],r=[];try{const s=P.getLastValidPrice(e).index;for(let a=0;a<e.length;a++){if(!e[a].date)continue;const o=i.filter((e=>e.index===a));1===o.length?(n.push(e[a]),r.push(Object.assign(Object.assign({},o[0]),{index:n.length-1}))):0!=a&&a!=s&&a%t!=0||n.push(e[a])}return{newItems:n,newTicks:r}}catch(e){return console.warn("Errors at compressDataPointArray"),console.warn(e),{newItems:[],newTicks:[]}}}static convertDataTimeZone(e,t){const i=[];e.items.forEach((e=>{i.push(Object.assign(Object.assign({},e),{date:(0,c.zh)(e.date,t)}))}));return Object.assign(Object.assign({},e),{items:i,startTime:(0,c.zh)(e.startTime,t),endTime:(0,c.zh)(e.endTime,t)})}static getLocalToExchangeOffset(e){const t=(new Date).getTimezoneOffset()/60;if(!(null==e?void 0:e.timeZone)||"UTC"===(null==e?void 0:e.timeZone)||"Etc/UTC"===(null==e?void 0:e.timeZone)||(null==e?void 0:e.timeZone.startsWith("UTC")))return t;try{const[i,n,r]=null==e?void 0:e.utcOffset.split(":");return t+(0,g.Z)(i)}catch(e){return t}}static convertTimeZone(e,t){return m()(e).add(t,"h").toDate()}}v.scaler=1e4;let T={};function w(e){let t=T["precision"];return t?parseFloat(e.toPrecision(t)):e}class y{constructor(e){this.format=e.format||w}static reverseInputs(e){e.reversedInput&&(e.values&&e.values.reverse(),e.open&&e.open.reverse(),e.high&&e.high.reverse(),e.low&&e.low.reverse(),e.close&&e.close.reverse(),e.volume&&e.volume.reverse(),e.timestamp&&e.timestamp.reverse())}getResult(){return this.result}}class M{constructor(e,t,i){this.next=i,i&&(i.prev=this),this.prev=t,t&&(t.next=this),this.data=e}}class D{constructor(){this._length=0}get head(){return this._head&&this._head.data}get tail(){return this._tail&&this._tail.data}get current(){return this._current&&this._current.data}get length(){return this._length}push(e){this._tail=new M(e,this._tail),0===this._length&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}pop(){var e=this._tail;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}shift(){var e=this._head;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}unshift(e){this._head=new M(e,void 0,this._head),0===this._length&&(this._tail=this._head,this._next=this._head),this._length++}unshiftCurrent(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}removeCurrent(){var e=this._current;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}resetCursor(){return this._current=this._next=this._head,this}next(){var e=this._next;if(void 0!==e)return this._next=e.next,this._current=e,e.data}}class O extends y{constructor(e){super(e),this.period=e.period,this.price=e.values;this.generator=function*(e){var t,i=new D,n=0,r=1,s=yield;for(i.push(0);;)r<e?(r++,i.push(s),n+=s):(t=(n=n-i.shift()+s)/e,i.push(s)),s=yield t}(this.period),this.generator.next(),this.result=[],this.price.forEach((e=>{var t=this.generator.next(e);void 0!==t.value&&this.result.push(this.format(t.value))}))}nextValue(e){var t=this.generator.next(e).value;if(null!=t)return this.format(t)}}function b(e){y.reverseInputs(e);var t=new O(e).result;return e.reversedInput&&t.reverse(),y.reverseInputs(e),t}var S,x;O.calculate=b,function(e){e[e.Show=0]="Show",e[e.Hide=1]="Hide",e[e.Auto=2]="Auto"}(S||(S={})),function(e){e.Day="Day",e.Week="Week",e.Month="Month"}(x||(x={}));class _{static generateMAIndicators(e,t,i,n=!1){var r;const s=e.moreItems?e.moreItems:e.items;if(e.taOption=t,null==t?void 0:t.sma){const a=null===(r=null==t?void 0:t.sma)||void 0===r?void 0:r.map((e=>{if(e.status!==S.Hide)return{name:e.id,values:_.CalculateMovingAverage(s,e.period),color:e.color}}));a.forEach((t=>{if(t){const r=t.values.slice(-1*e.items.length).reverse();let s,a=0;for(let c=e.items.length-1;c>=0;c--){const u=e.items[c];if(!u.backFilled&&u.taIndicators)if(n)s&&v.onSameDay(s,u.date)&&0!==c||(s=u.date,(null==i?void 0:i.open)?0===a?(u.taIndicators[t.name]={price:r[a]},o(u,{eventType:"DMA_Point",eventDetails:{smaName:t.name,color:t.color}})):1===a?(u.taIndicators[t.name]={price:r[0]},o(u,{eventType:"DMA_Point",eventDetails:{smaName:t.name,color:t.color}})):(u.taIndicators[t.name]={price:r[a]},o(u,{eventType:"DMA_Point",eventDetails:{smaName:t.name,color:t.color}})):(u.taIndicators[t.name]={price:r[a]},o(u,{eventType:"DMA_Point",eventDetails:{smaName:t.name,color:t.color}})),a++);else{const e={price:r[a]};u.taIndicators[t.name]=e,a++}}}}))}}static supportMovingAverage(e){return!!_.DailyMovingAverageDemandedChartType(e)||e===n.Max}static DailyMovingAverageDemandedChartType(e){return e===n.OneDay||e===n.OneMonth||e===n.OneMonthOneHour||e===n.FiveDays?[s.oX.OneYear]:e===n.ThreeMonth||e===n.OneYear||e===n.Ytd||e===n.ThreeYears?[s.oX.TenYearsDailyPart1]:e===n.FiveYears?[s.oX.TenYearsDailyPart2,s.oX.TenYearsDailyPart1]:void 0}static CalculateLatestMovingAverage(e,t){try{if((null==e?void 0:e.length)>=t){const i=e.slice(-1*t);let n=0;return i.forEach((e=>n+=e.close)),n/t}return null}catch(e){return console.error(e),null}}static CalculateMovingAverage(e,t){return b({period:t,values:e.map((e=>e.close))})}static CalculateMovingAverageAndPriceCross(e,t){const i=t.id;e.forEach(((n,r)=>{var s,a;if(r>=1){const c=e[r-1];(null===(s=n.taIndicators)||void 0===s?void 0:s[i])&&(null===(a=c.taIndicators)||void 0===a?void 0:a[i])&&(n.taIndicators[i].price>=n.close&&c.taIndicators[i].price<=c.close?o(n,{eventType:"cross_down",eventDetails:t}):n.taIndicators[i].price<=n.close&&c.taIndicators[i].price>=c.close&&o(n,{eventType:"cross_up",eventDetails:t}))}}))}static CalculateInterpolatedMovingAverageAndPriceCross(e,t){const i=t.id,n=[[]];e.forEach(((e,t)=>{var r,s,a,o,c,u;p(null===(s=null===(r=null==e?void 0:e.taIndicators)||void 0===r?void 0:r[i])||void 0===s?void 0:s.price)&&p(null==e?void 0:e.close)&&(n[n.length-1].push({maValue:null===(o=null===(a=null==e?void 0:e.taIndicators)||void 0===a?void 0:a[i])||void 0===o?void 0:o.price,index:t}),2===n[n.length-1].length&&n.push([{maValue:null===(u=null===(c=null==e?void 0:e.taIndicators)||void 0===c?void 0:c[i])||void 0===u?void 0:u.price,index:t}]))})),n.forEach((i=>{if(p(i)&&2===i.length){const n=(i[1].maValue-i[0].maValue)/(i[1].index-i[0].index),r=i[0].maValue;for(let s=i[0].index+1;s<=i[1].index;s++){const a=(s-i[0].index)*n+r;r>e[s-1].close&&a<=e[s].close?o(e[s],{eventType:"cross_up",eventDetails:t}):r<e[s-1].close&&a>=e[s].close&&o(e[s],{eventType:"cross_down",eventDetails:t})}}}))}static CalculateMovingAverageFlatLinePriceCross(e,t){p(null==t?void 0:t.period)&&p(null==t?void 0:t.latestValue)&&e.forEach(((i,n)=>{if(n>=1){const r=e[n-1];p(null==r?void 0:r.close)&&p(null==i?void 0:i.close)&&r.close!==i.close&&(t.latestValue>=i.close&&t.latestValue<=r.close?o(i,{eventType:"cross_down",eventDetails:t}):t.latestValue<=i.close&&t.latestValue>=r.close&&o(i,{eventType:"cross_up",eventDetails:t}))}}))}}var F=i(59350),C=i(65473),I=i(42166);const E={height:"48px",background:"white",fontFamliy:"Segoe UI, Segoe WP, Arial, Sans-Serif",fontSize:"12px",lineHeight:"14px",margin:"10px",borderRadius:"4px",padding:"8px",display:"inline-grid",boxShadow:"0px 0.4px 0.9px rgba(0, 0, 0, 0.13), 0px 0px 2.22px rgba(0, 0, 0, 0.11)",width:"fit-content",opacity:.8},$={margin:"5px",marginRight:"0px"};class k extends C.default.Component{update(e,t){this.setState({currentItem:e,show:t})}updateDeltaStart(e){this.setState({deltaStartItem:e})}render(){const{followMouseMove:e,canvasHeight:t,canvasWidth:i,hoverTipRender:r,rtl:s,timeSpan:a,timeZone:o,localization:c,mockCurrentItem:u,moveInYDirection:l,isGaining:h,tooltipVersion2:m,canvasMargin:g,tooltipXOffset:f}=this.props,p=a===n.OneDay||a===n.FiveDays?o:"";let v,T=!1;if(this.state?(v=this.state.currentItem,T=this.state.show):(v=u,T=!0),v&&T&&t){if(e){const e=this.element&&this.element.offsetWidth?this.element.offsetWidth:100,n=m?{width:"max-content",marginLeft:(0,I.a)(v.x+g.left+f<i/2?v.x+g.left+f:v.x+g.left-f-e),marginRight:"0px",marginTop:l?(0,I.a)((0,d.Z)(-1*t+v.mouseXY[1])):(0,I.a)((0,d.Z)(-1*t))}:{width:"max-content",marginLeft:s?"0px":(0,I.a)((0,d.Z)(Math.min(i-e,v.x))),marginRight:s?(0,I.a)((0,d.Z)(i-1*v.x-e)):"0px",marginTop:l?(0,I.a)((0,d.Z)(-1*t+v.mouseXY[1])):(0,I.a)((0,d.Z)(-1*t))};return C.default.createElement("div",{ref:e=>this.element=e,style:Object.assign({position:"absolute",pointerEvents:"none",zIndex:this.props.zIndex||2},n)},r?r(v,h,this.state.deltaStartItem,s):this.renderDefaultTooltip(v,p,c.vol,this.state.deltaStartItem))}return C.default.createElement("div",{ref:e=>this.element=e,style:{position:"absolute",pointerEvents:"none",zIndex:this.props.zIndex||2}},r?r(v,h,this.state.deltaStartItem,s,t,i):C.default.createElement("div",null))}return C.default.createElement("div",null)}renderDefaultTooltip(e,t,i,n){if(e&&e.item&&e.item.close&&e.item.date){const n=e.item,r=k.tipTimeFormat(n.date,this.props.timeSpan);return C.default.createElement("div",{style:Object.assign({},E)},C.default.createElement("div",{style:Object.assign(Object.assign({},$),{fontWeight:"bold"})},k.hoverTipValueFormat(n.close)),C.default.createElement("div",{style:{display:"flex"}},C.default.createElement("div",{style:Object.assign({},$)},r),C.default.createElement("div",{style:Object.assign({},$)},t||void 0),n.volume?C.default.createElement("div",{style:Object.assign({},$)},i," "," ",(0,F.D)(n.volume,2)):void 0))}}static hoverTipValueFormat(e,t){return void 0===e?"":!0===t?(0,F.uf)(e,2,4)+"%":(0,F.uf)(e,e<2?void 0:k.minFraction(e))}static minFraction(e){return e<10?4:2}static tipTimeFormat(e,t){const i=P.getMarket();let r;return r=[n.OneMonthOneHour,n.OneDay,n.TwelveHours,n.OneHour,n.TwentyFourHours].includes(t)?{day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}:t==n.FiveDays||t==n.OneWeek?{weekday:"short",hour:"2-digit",minute:"2-digit"}:t==n.OneMonth?{day:"numeric",month:"short"}:{year:"numeric",month:"short",day:"numeric"},e.toLocaleDateString(i,r)}}var A,L=i(69044),H=i(85857),j=i(13400);!function(e){e[e.Verbose=0]="Verbose",e[e.WarnError=1]="WarnError",e[e.Silence=2]="Silence"}(A||(A={}));class Y{static log(e,t){Y.logLevel==A.Verbose&&console.log(t?"["+t+"] "+e:e)}static warn(e,t){Y.logLevel!=A.Silence&&console.warn(t?"["+t+"] "+e:e)}static error(e,t){Y.logLevel!=A.Silence&&console.error(t?"["+t+"] "+e:e)}}Y.logLevel=A.WarnError;new Map;class P{static capitalizeFirstLetter(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}static calculateCloseToOpenChange(e,t){if(!(0,H.Z)(t)&&!(0,H.Z)(e)){return(t-e>0?"+":"")+(P.localizeNumber(100*(t/e-1),2,2)+"%")}}static getIdToPropsMap(){return P.instrumentIdMap||(P.instrumentIdMap=new Map),P.instrumentIdMap}static CalculateInfoTableArrange(e,t){const i=t/e;if(i==(0,d.Z)(i)){const t=[];for(let n=0;n<e;n++)t.push(i);return t}{const n=u(i),r=u(i)+1,s=[r];let a=t-r;for(let t=1;t<e;t++)a==(e-t)*n?(s.push(n),a-=n):(s.push(r),a-=r);return s}}static localizeNumber(e,t=2,i=2,n=!1){return null==e?"":(t>i&&(i=t),e.toLocaleString(this.getMarket(n),{maximumFractionDigits:i,minimumFractionDigits:t}))}static getMarket(e=!1){if(e){const e=j.jG.CurrentMarket,t=["ar","bn","fa","mr","ne"];return e&&t.some((t=>e.startsWith(t)))?"en-us":e}return(j.jG.CurrentMarket||"en-us").toString()}static highLowCalculator(e,t,i=!1,n){var r,s,a;try{i&&(n=void 0);const t=null!=n?[n]:[],o=null===(s=null===(r=e.taOption)||void 0===r?void 0:r.sma)||void 0===s?void 0:s.map((e=>e.active&&e.id));e.items.forEach((e=>{i?e.normalizedValue&&t.push(e.normalizedValue):e.close&&(t.push(e.close),null==o||o.forEach((i=>{var n,r;const s=null===(r=null===(n=e.taIndicators)||void 0===n?void 0:n[i])||void 0===r?void 0:r.price;p(s)&&!Number.isNaN(s)&&t.push(s)})))})),(null===(a=e.referenceLines)||void 0===a?void 0:a.length)>0&&e.referenceLines.forEach((e=>t.push(e.value)));const c=Math.max(...t);return[c,Math.min(...t)]}catch(e){Y.error("Processing high low prices with error."),Y.error(e)}}static getCurrentTradingStatus(e,t=new Date){try{const i=new Date(t.getTime()+6e4*t.getTimezoneOffset()),n=e.tradingDays.filter((e=>new Date(e.start).getDate()==i.getDate()));if(0==n.length)return L.Z.Closed;const r=n[0].tradingSessions.filter((e=>this.compareTime(i,new Date(e.start.replace("Z","")),new Date(e.end.replace("Z","")))));return 0==r.length?L.Z.Closed:r[0].marketStatus}catch(e){Y.error("processing getCurrentTradingStatus with error"),Y.error(e)}}static getLastValidPrice(e,t=!1){try{for(let i=e.length-1;i>=0;i--)if(null!=e[i].close)return t&&(e[i].isLatest=!0),{data:e[i],index:i}}catch(e){Y.error("processing getLastValidPrice with error"),Y.error(e)}}static compareTime(e,t,i){return e.getTime()>=t.getTime()&&e.getTime()<=i.getTime()}static isGaining(e,t,i){return Number.isFinite(i)?e>=i:e>=t}static getXTickAnchor(e,t){return t?null==e?void 0:e.map(((t,i)=>Object.assign(Object.assign({},t),{textAnchor:i===e.length-1?"start":"center"}))):null==e?void 0:e.map(((t,i)=>Object.assign(Object.assign({},t),{textAnchor:i===e.length-1?"end":"center"})))}static generateDeltaHoverTip(e,t,i,n,r,s){const a=e.item,o=t.item,c=k.tipTimeFormat(a.date,i),u=k.hoverTipValueFormat(a.close,s),l=k.tipTimeFormat(o.date,i),h=k.hoverTipValueFormat(o.close,s);let m,d,g,f;return a.date.getTime()<o.date.getTime()?(m=c+" - "+l,d=u+" - "+h,g=k.hoverTipValueFormat(100*(o.close/a.close-1),!0)):a.date.getTime()>o.date.getTime()&&(m=l+" - "+c,d=h+" - "+u,g=k.hoverTipValueFormat(100*(a.close/o.close-1),!0)),g&&(f=g.startsWith("-")?r:n),{timeStampLine:m,valueLine:d,changeLine:g,color:f}}}P.updateMovingAverageState=(e,t)=>{var i;null===(i=null==e?void 0:e.sma)||void 0===i||i.forEach((e=>{if(e.status===S.Show)e.active=!0;else if(e.status===S.Hide)e.active=!1;else{const i=t.items.filter((t=>{var i;const n=null===(i=t.events)||void 0===i?void 0:i.filter((t=>t.eventDetails===e));return(null==n?void 0:n.length)>0}));0===i.length?e.active=!1:e.active=!0}}))};const N=["rgba(106,228,255,1)","rgba(255,189,60,1)","rgba(255,126,54,1)","rgba(103,127,255,1)","rgba(183,99,250,1)","rgba(144,209,106,1)","rgba(214,76,77,1)","rgba(255,146,211,1)"];class Z{static preProcessDataArguments(e){return Object.assign(Object.assign({},e),{tickCount:e.tickCount?e.tickCount:4})}static aggregatedChart(e,t,i,n){const{startTime:r,endTime:a,chartEndTime:o}=this.calculateTimes(e);let c=r.time;const u=this.generateTimeSpan(i),l=[],h=e.filter((e=>{var t,i;return(null===(i=null===(t=e.series)||void 0===t?void 0:t.items)||void 0===i?void 0:i.length)>0})).map((e=>{const t=e.series.items.filter((e=>e.date.getTime()>=r.time.getTime())).map((e=>Object.assign(Object.assign({},e),{timestamp:e.date.getTime()})));return Object.assign(Object.assign({},e),{series:Object.assign(Object.assign({},e.series),{startTimestamp:e.series.startTime.getTime(),endTimestamp:e.series.endTime.getTime(),items:t,sortedItems:[...t].sort(((e,t)=>t.timestamp-e.timestamp))})})}));for(;c.getTime()<=a.time.getTime();){if(!this.isCloseTime(e,c,i,u)){const e={date:c,close:0,open:0,high:0,low:0,volume:0,total:0},t=c.getTime();h.map((n=>{if(n.series.startTimestamp<=t&&(n.series.endTimestamp>=t||t-n.series.endTimestamp<=u)){let r=n.series.items[0].close;i!==s.oX.OneDayOneMinute&&i!==s.oX.OneDayFiveMinute||(r=n.pricePreviousClose);const a=n.series.sortedItems.find((e=>e.timestamp<=t));a&&(e.close+=a.close/r,e.total+=1)}})),e.total>0&&l.push({date:e.date,close:100*e.close/e.total-100})}const t=c.getTime();c=i!==s.oX.All?new Date(c.getTime()+u):this.nextMonthLastDay(c),t<a.time.getTime()&&c.getTime()>a.time.getTime()&&(c=a.time)}const m=l.map((e=>e.close)),d=Math.max(...m),g=Math.min(...m),f={startTime:r.time,endTime:o.time,items:l,priceHigh:d,priceLow:g};return Object.assign(Object.assign({},e[0]),{pricePreviousClose:0,series:Object.assign({},f),symbol:t,instrumentId:t})}static calculateTimes(e){const t=[],i=[],n=[];e.forEach((e=>{var r,s,a;if(null===(r=null==e?void 0:e.series)||void 0===r?void 0:r.endTime){const i=t.find((t=>t.time.getTime()===e.series.endTime.getTime()));i?i.total+=1:t.push({time:e.series.endTime,total:1}),t.sort(((e,t)=>t.time.getTime()-e.time.getTime()))}if((null===(a=null===(s=null==e?void 0:e.series)||void 0===s?void 0:s.items)||void 0===a?void 0:a.length)>0){const t=e.series.items,r=i.find((e=>e.time.getTime()===t[0].date.getTime()));r?r.total+=1:i.push({time:t[0].date,total:1}),i.sort(((e,t)=>t.time.getTime()-e.time.getTime()));const s=n.find((e=>e.time.getTime()===t[t.length-1].date.getTime()));s?s.total+=1:n.push({time:t[t.length-1].date,total:1}),n.sort(((e,t)=>t.time.getTime()-e.time.getTime()))}}));let r=Object.assign({},i[0]);i.forEach((e=>{e.total>r.total&&(r=Object.assign({},e))}));let s=Object.assign({},n[0]);n.forEach((e=>{e.total>=s.total&&(s=Object.assign({},e))}));let a=Object.assign({},t[0]);return t.forEach((e=>{e.total>=a.total&&(a=Object.assign({},e))})),{startTime:r,endTime:s,chartEndTime:a}}static isCloseTime(e,t,i,n){if(i===s.oX.OneDayFiveMinute||i==s.oX.OneDayOneMinute)return!1;let r=!1;if(i===s.oX.FiveDays){const i=[],s=[];if(e.forEach((e=>{var n;if((null===(n=null==e?void 0:e.series)||void 0===n?void 0:n.items.length)>0){const n=[...e.series.items],r=n.find((e=>e.date.getTime()>=t.getTime())),a=n.reverse().find((e=>e.date.getTime()<=t.getTime()));if(a){const e=i.find((e=>e.time.getTime()===a.date.getTime()));e?e.total+=1:i.push({time:a.date,total:1}),i.sort(((e,t)=>t.time.getTime()-e.time.getTime()))}if(r){const e=s.find((e=>e.time.getTime()===r.date.getTime()));e?e.total+=1:s.push({time:r.date,total:1}),s.sort(((e,t)=>t.time.getTime()-e.time.getTime()))}}})),i&&0!==i.length&&s&&0!==s.length){let e=i[0];i.forEach((t=>{t.total>=e.total&&(e=Object.assign({},t))}));let a=s[0];s.forEach((e=>{e.total>a.total&&(a=Object.assign({},e))})),(t.getTime()-e.time.getTime()>n||a.time.getTime()-t.getTime()>n)&&(r=!0)}else r=!0}return r}static generateTimeSpan(e){const t=6e4;switch(e){case s.oX.OneDayOneMinute:return t;case s.oX.OneDayFiveMinute:return 3e5;case s.oX.FiveDays:return 9e5;case s.oX.OneMonth:case s.oX.ThreeMonth:case s.oX.OneYear:return 864e5;case s.oX.ThreeYear:case s.oX.FiveYear:return 6048e5;default:return t}}static nextMonthLastDay(e){let t=e.getFullYear(),i=e.getMonth()+2;return i>12&&(i-=12,t+=1),new Date(t,i,0,e.getHours(),e.getMinutes(),e.getSeconds())}static generateProps(e){return e.isComparison?Z.processComparisonChartResponse(e):Z.processSingleChartResponse(e)}static processComparisonChartResponse(e){try{e=Z.preProcessDataArguments(e);const{charts:t,timeSpan:i,tickCount:r}=e;let s=t.map(((e,t)=>Z.processChartResponse(e,i,N[t])));s=Z.reOrderCharts(s);let a;a=i===n.OneDay||i===n.FiveDays||i===n.OneWeek||i===n.TwentyFourHours||i===n.OneHour?v.mergeChartSeries(s,!1,!0):v.mergeChartSeries2(s,i);const o=a.comparisonHigh,c=a.comparisonLow,{top:u,bottom:h}=Z.computeChartTopBottom(o,c);return{chartData:a,baseNumber:a.pricePreviousClose,timeZone:a.exchange?a.exchange.timeZone:void 0,high:o,low:c,top:u,bottom:h,xAxisTicks:l.generateTimeTick(a,i,r)}}catch(e){return Y.error("Processing finance chart props with error."),Y.error(e),null}}static processSingleChartResponse(e){try{e=Z.preProcessDataArguments(e);const{charts:t,timeSpan:i,isAggregation:n,taOption:r,inChangePercent:s,tickCount:a,width:o}=e;if(null==t?void 0:t[0]){let e=Z.processChartResponse(t[0],i,null,n);Z.processTechnicalIndicators(r,e,i),e=v.compressDataSeries(e,i,a,o),v.markLastValidPrice(e);const c=s?0:e.pricePreviousClose,u=P.highLowCalculator(e,r,!1,c),l=u[0],h=u[1],{top:m,bottom:d}=Z.computeChartTopBottom(l,h);return{chartData:e,baseNumber:e.pricePreviousClose,timeZone:e.exchange?e.exchange.timeZone:void 0,high:l,low:h,top:m,bottom:d,xAxisTicks:e.xTicks?e.xTicks:[]}}}catch(e){return Y.error("Processing finance chart props with error."),Y.error(e),null}}static processTechnicalIndicators(e,t,i){var r,s,a;if(e)if(i===n.OneDay)t.referenceLines=[],null===(r=e.sma)||void 0===r||r.forEach((i=>{if(i.status!=S.Hide){if(!p(i.latestValue)){const e=_.CalculateLatestMovingAverage(t.moreItems,i.period);i.latestValue=e}_.CalculateMovingAverageFlatLinePriceCross(t.items,i),P.updateMovingAverageState(e,t),i.active&&t.referenceLines.push({name:i.id,value:i.latestValue,type:"Solid",color:i.color})}else P.updateMovingAverageState(e,t)}));else{const r=i===n.FiveDays||i===n.OneMonthOneHour;_.generateMAIndicators(t,e,null,r),r?null===(s=e.sma)||void 0===s||s.forEach((e=>{_.CalculateInterpolatedMovingAverageAndPriceCross(t.items,e)})):null===(a=e.sma)||void 0===a||a.forEach((e=>{_.CalculateMovingAverageAndPriceCross(t.items,e)})),P.updateMovingAverageState(e,t)}}static AppendQuoteToEndOfChart(e,t,i,n){var s,a,o;return(0,r.mG)(this,void 0,void 0,(function*(){const r=Math.abs(m()(null===(s=e.series)||void 0===s?void 0:s.endTime).diff(m()(null===(a=e.series)||void 0===a?void 0:a.startTime),"minute"));if(r>0){const s=v.calucateChartInterval(r,t);let a=s;s<=2&&(a=3);const c=yield i.getMarketTradingStatus(e.exchangeId);if((null==n?void 0:n.instrumentId)===e.instrumentId&&(null==c?void 0:c.open)&&(null==n?void 0:n.timeLastTraded)&&(null==n?void 0:n.price)){const t=Number.parseInt(c.utcOffset),i=(new Date).getTimezoneOffset()/60,r=i+t,s=v.convertTimeZone(null===(o=e.series)||void 0===o?void 0:o.startTime,r),u=v.convertTimeZone(new Date(n.timeLastTraded),t),l=v.convertTimeZone(new Date(n.timeLastTraded),-1*i);let h,d=!1;if(0===e.series.items.length){const e=m()(u).diff(m()(s),"minute");e<=a&&e>=1&&(d=!0)}else{h=e.series.items[e.series.items.length-1];m()(l).diff(m()(h.date),"minute")<=a&&(d=!0)}if(d){const t={close:n.price,date:l,high:n.price,low:n.price,open:n.price,volume:void 0};if(h&&0===Math.abs(m()(t.date).diff(m()(h.date),"minute")))return void(e.series.items[e.series.items.length-1]=Object.assign({},t));e.series.items.push(t)}}}}))}static reOrderCharts(e){let t=e[0];return e.forEach((e=>{e.items.length>t.items.length&&(t=e)})),e=e.filter((e=>e.id!==t.id)),e=[t,...e]}static processChartResponse(e,t,i,n=!1){if(e){let r=v.toChartTimeSeriesData(e);return r=Z.processChartTimeSeriesByTimeSpan(r,t,n),r.exchange=e.exchange,r.pricePreviousClose=e.pricePreviousClose,r.color=i,r}}static processChartTimeSeriesByTimeSpan(e,t,i=!1){if(t===n.OneDay)e=v.transformToLiveSeries(e,1);else if(t===n.FiveDays)e=v.transformToLiveSeries(e,15,!1);else if(t===n.TwelveHours){const t=m()(e.startTime).add(12,"hour").toDate();e.items[e.items.length-1].date<t?e.endTime=t:e.startTime=t,e.items=e.items.filter((t=>t.date.getTime()>=e.startTime.getTime()&&t.date.getTime()<=e.endTime.getTime())),e=v.transformToLiveSeries(e)}else if(t===n.Ytd){const t=(e=v.trimToYTDSeries(e)).items[0];e.items=e.items.map((e=>Object.assign(Object.assign({},e),{normalizedValue:100*e.close/t.close-100})))}return e}static computeChartTopBottom(e,t,i){const n=e-t,r=t-.1*n;return{top:e+.1*n,bottom:i?Math.max(0,r):r}}}},9604:function(e,t,i){"use strict";var n=i(57649),r=i(84708),s=i(16572),a=i(45180),o=n.Z.isFinite,c=Math.min;t.Z=function(e){var t=Math[e];return function(e,i){if(e=(0,s.Z)(e),(i=null==i?0:c((0,r.Z)(i),292))&&o(e)){var n=((0,a.Z)(e)+"e").split("e"),u=t(n[0]+"e"+(+n[1]+i));return+((n=((0,a.Z)(u)+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}},16614:function(e,t,i){"use strict";var n=i(24939);t.Z=function(e,t){return(0,n.Z)(e,t)}},84853:function(e,t,i){"use strict";var n=(0,i(9604).Z)("round");t.Z=n}}]);